<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Решение задачи про массив функций</title>
</head>
<body>
  <!--
  3. Программист решил сделать с помощью цикла for массив из функций, которые выводили бы цифры по порядку,
  т.е. хотел получить нечто вроде:
  ```
  var arr = [
    function() { console.log(0); },
    function() { console.log(1); },
    function() { console.log(2); },
  ];

  arr[0](); // 0
  arr[1](); // 1
  arr[2](); // 2
  ```

  решил программист это дело так:

  ```
  var arr = [];
  for (var i = 0; i < 3; i++) {
    arr.push(function() { console.log(i) });
  }

  arr[0](); // 3
  arr[1](); // 3
  arr[2](); // 3
  ```

  Однако результат, который получает программист совершенно не тот, что ему нужен.
  Исправьте ошибку программиста, покажите ему как реализовать решение используя и не используя нового
  стандарта es6.
  -->

  <script>
    // Решение без es6.
    // Мы создаем замыкание с функцией, которая моментально и вызывается (называется функция IIFE).
    // Внутрь функции мы передаем значение и это значение будет разным в каждой функции,
    // так как значение, переданное в эту функцию, будет скопировано, то есть мы скопируем значение
    // переменной `i` в переменную `a` и именно эта `a` и будет выводиться, в каждой итерации будет своя
    // функция, своя переменная `a` со своим личным значением, которое и используется в `console.log(a)`.
    var arr = [];
    for (var i = 0; i < 3; i++) {
      (function (a) {
        arr.push(function() { console.log(a) });
      })(i);
    }

    arr[0](); // 0
    arr[1](); // 1
    arr[2](); // 2
  </script>
</body>
</html>